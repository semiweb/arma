%td= state.created_at.strftime("%B %d, %Y - %H:%M:%S")
%td= state.branch
%td= link_to state.ref[0..9], "https://github.com/semiweb/#{state.installation.application.name == 'Nagano3'?'nagano':'mobia'}/commit/#{state.ref}", target: "_blank"
%td= truncate state.message, length: 50, omission: '..'
%td= state.commit_date.strftime("%B %d, %Y - %H:%M:%S")
%td
  - if state.diff.present?
    %span.warn
      = link_to '+local', diff_application_installation_state_path(state.installation.application_id, state.installation_id, state.id), target: :_blank
  %span.warn= "+#{state.local_commits}" if state.local_commits && state.local_commits > 0
